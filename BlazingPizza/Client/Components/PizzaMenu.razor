@page "/menu"
@using BlazingPizza.Shared.Models
@inject HttpClient HttpClient

<h3>Pizza Menu</h3>

<div class="pizza-menu">
    @if (pizzas == null || !pizzas.Any())
    {
        <p>Loading pizzas...</p>
    }
    else
    {
        <ul>
            @foreach (var pizza in pizzas)
            {
                <li>
                    <div class="pizza-item">
                        <img src="@pizza.ImageUrl" alt="@pizza.Name" />
                        <h4>@pizza.Name</h4>
                        <p>@pizza.Description</p>
                        <p><strong>Price:</strong> $@pizza.Price</p>
                    </div>
                </li>
            }
        </ul>
    }
</div>

@code {
    private List<Pizza>? pizzas;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            // Obtener pizzas desde la API
            pizzas = await HttpClient.GetFromJsonAsync<List<Pizza>>("api/pizza");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error fetching pizzas: {ex.Message}");
        }
    }
}




